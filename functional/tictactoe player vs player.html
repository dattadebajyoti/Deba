<html>
  <head>
      <style>
         .square{
           width:40px;
           height:40px;
           font-size:18pt;
           text-align:center;
         }
      </style>
  </head>
     <script>
     //function to start the game
        function startGame()
        {
          //using var i iterate through all the indices for setting the value to a box
          for(var i=1;i<=9;i++)
          {
            startOver(i);
          }
          //set the player's turn as X to the box
          document.turn="X";
          //use random function to set the player's turn
          if(Math.random()>0.5)
          {
            document.turn="O";
          }
          //create a variable winner of javascript document type so that it is accessible to all and set it as null inititally
          document.winner=null;
          //function to set who gets the turn
          setMessage(document.turn+"_gets to start");
        }
        function setMessage(msg)
        {
          document.getElementById("message").innerText=msg;
        }
        //function to check the moves
        function nextMove(square)
        {
          console.log(square);
          // var nonEmpty=0;
          //checks if the player has already won
          if(document.winner!=null){
            setMessage(document.turn+"_alerady won");
          }

          //check whether a box is empty and fill the box with the player's input and set the next turn
          else{
            if(square.innerText==""){
              square.innerText=document.turn;
              switchTurn();
            }
            else {
              setMessage("This square is already filled");
            }
          }

            // for(var k=0;k<9;k++)
            // {
            //   if(getBox[k].square.innertext!="")
            //   nonEmpty++;
            // }
            // if(nonEmpty==9)
            // setMessage("Match Drawn");

        }
        function checkEmpty(){
          if(document.getElementById('1').innerHTML!=''
             && document.getElementById('2').innerHTML!=''
             && document.getElementById('3').innerHTML!=''
             && document.getElementById('4').innerHTML!=''
             && document.getElementById('5').innerHTML!=''
             && document.getElementById('6').innerHTML!=''
             && document.getElementById('7').innerHTML!=''
             && document.getElementById('8').innerHTML!=''
             && document.getElementById('9').innerHTML!='')
             {
               return true;
             }
          return false;
        }

        //function for switiching the turn
        function switchTurn()
        {
          //checks for a win
          if(checkForWinner(document.turn)){
            setMessage("congrats!! "+document.turn+"_won the game");
            document.winner=document.turn;
          }
          //sets the turn is X has already filled one of the boxes and vice versa
          else{
            console.log(document.getElementById('1').innerHTML);
          if(checkEmpty()){
            setMessage("The game is drawn");
          }else
           if(document.turn=="X"){
             document.turn="O";
             setMessage("It's "+document.turn+" Turn");
             }
          else
            {
             document.turn="X";
             setMessage("It's "+document.turn+" Turn");
            }
           }
        }
        // checks for a match vertically horizontally and diagonally and returns the result
        function checkForWinner(move)
        {
          var result=false;
          if(checkBox(1,2,3,move)==true || checkBox(4,5,6,move)==true || checkBox(7,8,9,move)==true ||
             checkBox(1,4,7,move)==true || checkBox(2,5,8,move)==true || checkBox(3,6,9,move)==true ||
             checkBox(1,5,9,move)==true || checkBox(3,5,7,move)==true){
             result =true;
          }
             return result;
        }
        //function to check whether a box is empty or not and returns the result true or false
        function checkBox(a,b,c,move)
        {
          var result=false;
          if(getBox(a)==move && getBox(b)==move && getBox(c)==move){
            result=true;
          }
          return result;
        }
        //function to get the value in the inner box
        function getBox(number)
        {
          return document.getElementById(number).innerText;
        }
        //function to start a new game
        function startOver(number)
        {
          return document.getElementById(number).innerText="";
        }
     </script>
    <body onload="startGame();">
     <h1>WELCOME TO PLAY TIC TAC TOE</h1>
     <div id="message"></div>
     <table border="1">
         <tr>
            <td id="1" class="square" onClick="nextMove(this);"></td>
            <td id="2" class="square" onClick="nextMove(this);"></td>
            <td id="3" class="square" onClick="nextMove(this);"></td>
         </tr>
         <tr>
            <td id="4" class="square" onClick="nextMove(this);"></td>
            <td id="5" class="square" onClick="nextMove(this);"></td>
            <td id="6" class="square" onClick="nextMove(this);"></td>
         </tr>
         <tr>
            <td id="7" class="square" onClick="nextMove(this);"></td>
            <td id="8" class="square" onClick="nextMove(this);"></td>
            <td id="9" class="square" onClick="nextMove(this);"></td>
         </tr>
     </table>
     <a href="javascript:startGame();">Play Again</a>
   </body>
</html>
